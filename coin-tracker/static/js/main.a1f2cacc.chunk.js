(this["webpackJsonpava-labs"]=this["webpackJsonpava-labs"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),i=n(9),s=n.n(i),o=(n(16),n(2)),u=(n(17),n(3)),l=n.n(u),p=n(5),h=n(7),d=function(){var e=Object(h.a)(l.a.mark((function e(t,n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=".concat(t,"&page=").concat(n,"&sparkline=true"));case 3:return c=e.sent,e.abrupt("return",c.json());case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0.message),e.t0.message;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.useState)(function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}());return Object(o.a)(e,1)[0]},f=function(e){var t=Object(r.useState)("idle"),n=Object(o.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)([]),s=Object(o.a)(i,2),u=s[0],f=s[1],b=j().height,m=Math.floor(b/49);return Object(r.useEffect)((function(){a("fetching"),function(){var t=Object(h.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(m,e);case 2:n=t.sent,f((function(e){return e.concat.apply(e,Object(p.a)(n))})),a("complete");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e]),{markets:u,requestStatus:c}},b=n(10),m=function(e){var t=e.canvas,n=e.sparkline,c=e.priceChange,r=e.length,a=e.height,i=e.tooltip,s=function(e){e.stopPropagation(),e.preventDefault();for(var t=e.clientX-32,n=0;n<l.length;n++)t===l[n].x&&u&&(u.clearRect(0,0,100,50),u.fillStyle="white",u.fillText("$".concat(l[n].price.toFixed(2)),0,15),u.fillText("".concat(l[n].date),0,25))};i&&t.addEventListener("mousemove",(function(e){return s(e)}));var o=n.price.slice().reverse(),u=t.getContext("2d"),l=[];if(t.addEventListener("mousemove",(function(e){return s(e)})),u){u.clearRect(0,0,r,a),u.strokeStyle=c>=0?"rgb(46, 174, 52)":"rgb(249, 103, 45)",u.fillStyle=c>=0?"rgb(46, 174, 52)":"rgb(249, 103, 45)",u.lineWidth=1.5,u.beginPath();for(var h=Math.max.apply(Math,Object(p.a)(o)),d=Math.min.apply(Math,Object(p.a)(o)),j=0;j<o.length;j++){var f=o[j],m=Math.round(r-r/(o.length-1)*j),v=Math.round(a-(f-d)/(h-d)*a);if(j?u.lineTo(m,v):u.moveTo(m,v),i){var g=b.DateTime.local().startOf("hour").minus({hours:j}).toFormat("MMM dd T");l.push({x:m,y:v,price:o[j],date:g})}}u.stroke()}},v=(n(19),n(20),function(e){var t=e.sparkline,n=e.priceChange,a=Object(r.useRef)(null);return Object(r.useEffect)((function(){a.current&&m({canvas:a.current,sparkline:t,priceChange:n,length:480,height:135,tooltip:!0})}),[t]),Object(c.jsx)("div",{className:"expanded-card",children:Object(c.jsx)("canvas",{ref:a,width:"".concat(480,"px"),height:"".concat(135,"px")})})}),g=function(e){var t=e.name,n=e.sparkline_in_7d,a=e.total_volume,i=e.current_price,s=e.price_change_percentage_24h,u=e.image,l=e.symbol,p=Object(r.useState)(!1),h=Object(o.a)(p,2),d=h[0],j=h[1],f=Object(r.useRef)(null);Object(r.useEffect)((function(){f.current&&m({canvas:f.current,sparkline:n,priceChange:s,length:150,height:20,tooltip:!1})}),[n]);var b=l.toUpperCase(),g=Math.round(a/i),O=s>=0?"price-pos":"price-neg",x=d?Object(c.jsx)(v,{sparkline:n,priceChange:s}):null;return Object(c.jsxs)(r.Fragment,{children:[Object(c.jsxs)("button",{onClick:function(){return j(!d)},className:"card-item",children:[Object(c.jsxs)("div",{className:"information",children:[Object(c.jsx)("img",{className:"currency-image",src:u}),Object(c.jsxs)("div",{className:"stacked",children:[Object(c.jsxs)("span",{className:"symbol",children:[b,"-USD"]}),Object(c.jsx)("span",{children:t})]})]}),Object(c.jsx)("div",{className:"sparkline",children:Object(c.jsx)("canvas",{ref:f,width:"150px",height:"20px"})}),Object(c.jsxs)("div",{className:"volume-stacked",children:[Object(c.jsxs)("span",{children:[g," ",b]}),Object(c.jsx)("span",{children:"24h volume"})]}),Object(c.jsxs)("div",{className:"price-stacked",children:[Object(c.jsxs)("span",{children:["$",i]}),Object(c.jsx)("span",{className:O,children:s?s.toFixed(2):0})]})]}),x]})},O=(n(21),function(e){var t=e.paginator,n=e.setPaginator,a=f(t).markets,i=Object(r.useRef)(0),s=Object(r.useState)(!1),u=Object(o.a)(s,2),l=u[0],p=u[1];return Object(r.useEffect)((function(){var e=function(){var e=window.scrollY;(i.current<e&&l&&p(!1),i.current>e&&!l&&p(!0),i.current=e,window.innerHeight+e===document.documentElement.offsetHeight)&&n(t+1)};return window.addEventListener("scroll",e,{passive:!0}),function(){return window.removeEventListener("scroll",e)}}),[l,t]),Object(c.jsx)("ul",{className:"expandable-list",children:a.map((function(e){var t=e.id,n=e.name,r=e.sparkline_in_7d,a=e.total_volume,i=e.current_price,s=e.price_change_percentage_24h,o=e.image,u=e.symbol;return Object(c.jsx)("li",{children:Object(c.jsx)(g,{symbol:u,name:n,image:o,current_price:i,total_volume:a,price_change_percentage_24h:s,sparkline_in_7d:r})},t)}))})}),x=function(){var e=Object(r.useState)(1),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(O,{paginator:n,setPaginator:a})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root")),k()}],[[22,1,2]]]);
//# sourceMappingURL=main.a1f2cacc.chunk.js.map